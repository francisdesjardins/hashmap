/**
 * HashMap - HashMap JavaScript class inspired by JDK 8 HashMap class
 * @author Francis Desjardins <me@francisdesjardins.ca>
 * @version 0.0.1
 * Homepage: https://github.com/francisdesjardins/hashmap
 *
 * Key hashing, tests and 'did not knew that' highly inspired by
 * - HashMap by Ariel Flesler https://github.com/flesler/hashmap
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.HashMap=t()}}(function(){return function t(n,e,r){function i(u,a){if(!e[u]){if(!n[u]){var p="function"==typeof require&&require;if(!a&&p)return p(u,!0);if(o)return o(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var f=e[u]={exports:{}};n[u][0].call(f.exports,function(t){var e=n[u][1][t];return i(e?e:t)},f,f.exports,t,n,e,r)}return e[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t,n,e){n.exports=t("./lib/hashmap")},{"./lib/hashmap":2}],2:[function(t,n,e){"use strict";function r(t,n){var e={map:{},settings:i({},h,n)};switch(this.pk=function(t){return t===y?e:void 0},arguments.length){case 0:break;case 1:this.putAll(t);break;default:throw new Error}}var i=t("xtend"),o=t("./utils").is,u=t("./utils").isNot,a=Array.prototype.pop,p=t("./utils").requireDefined,s=t("./utils").requireFunction,f=t("./utils").requireInstanceOf,c=t("./utils").hash,l=Object.prototype.hasOwnProperty,h={cacheKeys:!0},y={};r.prototype.clear=function(){var t=this.pk(y);t.map={}},r.prototype.clone=function(){return new r(this)},r.prototype.compute=function(t,n,e){s(n,'"remappingFunction" is not a function'),e=e||this;var r=this.get(t),i=n.apply(e,[t,r]);return p(i,'"newValue" is undefined'),null===i?((null!==r||this.containsKey(t))&&this.remove(t),null):(this.put(t,i),i)},r.prototype.computeIfAbsent=function(t,n,e){s(n,'"mappingFunction" is not a function'),e=e||this;var r,i=this.get(t);return null===i&&(r=n.apply(e,[t]),p(r,'"newValue" is undefined'),null!==r)?(this.put(t,r),r):i},r.prototype.computeIfPresent=function(t,n,e){s(n,'"remappingFunction" is not a function'),e=e||this;var r,i=this.get(t);if(null!==i){if(r=n.apply(e,[t,i]),p(r,'"newValue" is undefined'),null!==r)return this.put(t,r),r;this.remove(t)}return null},r.prototype.containsKey=function(t){var n=c(t),e=this.pk(y).map;return l.call(e,n)},r.prototype.containsValue=function(t){var n=!1;return this.forEach(function(e,r){return o(t,r)?(n=!0,!n):void 0}),n},r.prototype.entries=function(){var t=[];return this.forEach(function(n,e){t.push({key:n,value:e})}),t},r.prototype.equals=function(t){if(t===this)return!0;if(!(t instanceof r))return!1;if(this.size()!==t.size())return!1;for(var n,e,i,o=this.entries();void 0!==(n=a.apply(o));)if(e=n.key,i=n.value,null===i){if(null!==e||!t.containsKey(e))return!1}else if(u(i,t.get(e)))return!1;return!0},r.prototype.forEach=function(t,n){s(t,'"action" is not a function'),n=n||this;var e,r=this.pk(y).map;for(e in r)if(l.call(r,e)&&t.apply(n,r[e])===!1)break},r.prototype.get=function(t){var n=c(t),e=this.pk(y).map;return l.call(e,n)?e[n][1]:null},r.prototype.getOrDefault=function(t,n){return this.containsKey(t)?this.get(t):n},r.prototype.isEmpty=function(){return!this.size()},r.prototype.keys=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},r.prototype.merge=function(t,n,e,r){s(e,'"remappingFunction" is not a function'),r=r||this;var i,o;return o=this.get(t),i=null===o?n:e.apply(r,[o,n]),p(i,'"newValue" is undefined'),null!==i?this.put(t,i):(this.remove(t),i)},r.prototype.put=function(t,n){p(n,'"value" is undefined');var e=c(t),r=this.pk(y).map;return r[e]=[t,n],n},r.prototype.putAll=function(t){f(t,r,'"map" is not an instance of HashMap'),t.forEach(function(t,n){this.put(t,n)},this)},r.prototype.putIfAbsent=function(t,n){var e=this.get(t);return null===e&&(e=this.put(t,n)),e},r.prototype.remove=function(t){var n,e=c(t),r=this.pk(y).map;return l.call(r,e)?(n=r[e][1],delete r[e],n):null},r.prototype.removeIfPresent=function(t,n){var e=this.get(t);return u(e,n)||null===e&&!this.containsKey(t)?!1:(this.remove(t),!0)},r.prototype.replace=function(t,n){var e=this.get(t);return null!==e?this.put(t,n):e},r.prototype.replaceIfPresent=function(t,n,e){var r=this.get(t);return u(r,n)||null===r&&!this.containsKey(t)?!1:(this.put(t,e),!0)},r.prototype.replaceAll=function(t,n){s(t,'"replacingFunction" is not a function'),n=n||this;var e,r,i;for(r=this.entries();void 0!==(e=a.apply(r));)i=t.apply(n,[e.key,e.value]),void 0!==i&&(null===i?this.remove(e.key):this.put(e.key,i))},r.prototype.size=function(){return this.keys().length},r.prototype.values=function(){var t=[];return this.forEach(function(n,e){t.push(e)}),t},n.exports=r},{"./utils":3,xtend:4}],3:[function(t,n,e){"use strict";var r=Object.defineProperty,i=Object.prototype.hasOwnProperty,o=(Math.random,Object.prototype.toString),u=/\[object ([a-z]*)\]/gi;e.hash=function(){function t(){return n+=1}var n=0,o="__HashMap_201506172259__",u={undefined:1,"null":1,"boolean":1,nan:1,number:1,regexp:1};return r||(r=function(t,n,e){t[n]=e.value}),function(n){var a,p,s,f=e.typeOf(n);if(i.call(u,f))return String(n);switch(f){case"date":return"♣"+n.getTime();case"string":return"♠"+n;case"array":for(a=[],p=0,s=n.length;s>p;p+=1)a[p]=e.hash(n[p]);return"♥"+a.join("⁞");default:if(!i.call(n,o))try{r(n,o,{value:t(),writable:!1,configurable:!1,enumerable:!1})}catch(c){n[o]=t()}return"♦"+n[o]}}}(),e.identify=function(){function t(){return n+=1}var n=0;return function(){return t()}}(),e.is=function(t,n){return t===n?0!==t||1/t===1/n:t!==t},e.isNot=function(t,n){return!e.is(t,n)},e.now=Date.now||function(){return(new Date).getTime()},e.requireDefined=function(t,n){if(void 0===t)throw new ReferenceError(n)},e.requireFunction=function(t,n){if("function"!=typeof t)throw new TypeError(n)},e.requireInstanceOf=function(t,n,e){if(!(t instanceof n))throw new TypeError(e)},e.requireNonNull=function(t,n){if(null===t)throw new ReferenceError(n)},e.typeOf=function(t){var n=o.apply(t).replace(u,"$1").toLowerCase();return"number"===n&&isNaN(t)?"nan":n}},{}],4:[function(t,n,e){function r(){for(var t={},n=0;n<arguments.length;n++){var e=arguments[n];for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])}return t}n.exports=r},{}]},{},[1])(1)});
